import { Stack, Text } from '@mantine/core';

import { useGetImagesInView } from './hooks';
import { ImageList } from './ImageList';

interface Props {
  columns: number;
}

function InfoGraphic() {
  return (
    <Stack>
      <Text>No images in view. Try moving the aim!</Text>
      <svg
        id={'eAFitDlh5T21'}
        xmlns={'http://www.w3.org/2000/svg'}
        xmlnsXlink={'http://www.w3.org/1999/xlink'}
        viewBox={'0 0 600 600'}
        shape-rendering={'geometricPrecision'}
        text-rendering={'geometricPrecision'}
      >
        <ellipse
          rx={'130.128503'}
          ry={'130.128503'}
          transform={'translate(300 292.171779)'}
          fill={'#3e3e3e'}
          stroke={'#fff'}
          stroke-width={'3'}
        />

        <path
          d={
            'M306.767411,162.043276c12.729365,21.780117,28.186451,44.957789,27.277211,44.957789s4.94893,41.370417-14.547846,53.190542-17.275569,23.243882-10.910886,39.808393s50.008221,36.567799,67.283788,31.112357s34.551133-24.549492,40.915816-14.547847q6.364683,10.001645,7.273922,10.001644q6.998734-2.414207,6.998734-34.394377t-34.275945-71.292134l-20.912527-25.467416-19.09405-23.843983q-62.737586-31.305087-50.008217-9.524968Z'
          }
          transform={'matrix(.895539 0 0 0.848466 38.030093 37.430359)'}
          fill={'#353535'}
          stroke={'#fff'}
          stroke-width={'3'}
        />
        <path
          d={
            'M174.927555,269.284011q26.367971-21.821769,33.641894-21.821769c7.273923,0,27.277212-28.378278,50.917462-4.187495q23.64025,24.190783,13.638605,56.725251l-10.910884,47.478684q-35.799834,34.910598,8.183163,40.640929c43.982997,5.730331,56.874409,11.185772,61.828347,15.731974q4.953938,4.546202,4.953938,12.729365-52.234438,5.719328-54.052919,5.719328c-1.212321,0-53.623598.050607-87.287077-64.819953-30.004933-57.820429-20.912529-88.196314-20.912529-88.196314Z'
          }
          transform={'translate(-.909241 0.909245)'}
          fill={'#353535'}
          stroke={'#fff'}
          stroke-width={'3'}
        />

        <rect
          width={'206.800186'}
          height={'191.895668'}
          rx={'0'}
          ry={'0'}
          transform={'translate(57.287998 285.448697)'}
          stroke={'#fff'}
          stroke-width={'5'}
        />
        <rect
          id={'eAFitDlh5T28'}
          width={'53.56497'}
          height={'49.311399'}
          rx={'0'}
          ry={'0'}
          transform={'translate(431.058154 171.568246)'}
          fill={'none'}
          stroke={'#fff'}
          stroke-width={'4'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'431.058154,171.568246; 481.058154,121.568246; 431.058154,171.568246'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </rect>
        <line
          x1={'-14.315621'}
          y1={'0'}
          x2={'14.315621'}
          y2={'0'}
          transform={'translate(457.504894 196.223945)'}
          fill={'none'}
          stroke={'#fff'}
          stroke-width={'4'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'457.504894,196.223945; 507.504894,146.223945; 457.504894,196.223945'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </line>
        <line
          x1={'-0.167872'}
          y1={'-11.588836'}
          x2={'0.167872'}
          y2={'11.588836'}
          transform={'translate(457.672767 195.412229)'}
          fill={'none'}
          stroke={'#fff'}
          stroke-width={'4'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'457.672767,195.412229; 507.672767,145.412229; 457.672767,195.412229'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </line>

        <polygon
          id={'eAFitDlh5T29'}
          points={
            '0,-3.153421 0.926767,-1.275586 2.999081,-0.974461 1.499541,0.48723 1.853534,2.551171 0,1.57671 -1.853534,2.551171 -1.499541,0.48723 -2.999081,-0.974461 -0.926767,-1.275586 0,-3.153421'
          }
          transform={'matrix(-.288335 0.95753-.95753-.288335 210.104091 422.300282)'}
          fill={'#fff'}
          stroke={'#fff'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'210.104091,422.300282; 260.104091,372.300282; 210.104091,422.300282'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </polygon>
        <polygon
          id={'eAFitDlh5T210'}
          points={
            '0,-7.548735 2.218518,-3.053527 7.179274,-2.332687 3.589637,1.166344 4.437035,6.107055 0,3.774368 -4.437035,6.107055 -3.589637,1.166344 -7.179274,-2.332687 -2.218518,-3.053527 0,-7.548735'
          }
          transform={'matrix(-1 0 0-1 107.716883 432.854745)'}
          fill={'#fff'}
          stroke={'#fff'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'107.716883,432.854745; 157.716883,382.854745; 107.716883,432.854745'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </polygon>
        <polygon
          id={'eAFitDlh5T211'}
          points={
            '0,-7.071382 2.078227,-2.860434 6.725284,-2.185177 3.362642,1.092589 4.156454,5.720868 0,3.535691 -4.156454,5.720868 -3.362642,1.092589 -6.725284,-2.185177 -2.078227,-2.860434 0,-7.071382'
          }
          transform={'matrix(0 1-1 0 172.837768 374.671247)'}
          fill={'#fff'}
          stroke={'#fff'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'172.837768,374.671247; 222.837768,324.671247; 172.837768,374.671247'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </polygon>

        <path
          id={'eAFitDlh5T212'}
          d={
            'M53.961737,136.947243c0,0-13.065557,33.351186-13.065557,33.351186l10.249126-3.219941v9.523624h5.468847v-9.523625l10.413144,3.219941-13.065561-33.351184Z'
          }
          transform={'matrix(.931349-.364127 0.364127 0.931349 46.781645 298.073307)'}
          fill={'#fff'}
          stroke-width={'1.2'}
        >
          <animateTransform
            attributeName={'transform'}
            type={'translate'}
            values={'46.781645,298.073307; 96.781645,248.073307; 46.781645,298.073307'}
            dur={'2s'}
            repeatCount={'indefinite'}
          />
        </path>
      </svg>
    </Stack>
  );
}

// This component has a hook which triggers renders very frequently
// so it is in it's own component to avoid the list being re-rendered
// unneccessarily
export function NearestImages({ columns }: Props) {
  const imagesInView = useGetImagesInView();
  return (
    <ImageList
      imageList={imagesInView}
      columns={columns}
      noImagesText={<InfoGraphic />}
    />
  );
}
